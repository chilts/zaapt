%# ----------------------------------------------------------------------------
<%args>
    $zaapt
    $c_name
    $p_name
</%args>
%# ----------------------------------------------------------------------------
<%init>
    my $model = $zaapt->get_model('Content');
    my $content = $model->sel_content_using_name({ c_name => $c_name });

    unless ( defined $content ) {
        $m->clear_buffer();
        $m->abort(404);
        return;
    }

    my $page = $model->sel_page_using_name({ c_id => $content->{c_id}, p_name => $p_name });

    unless ( defined $page ) {
        $m->clear_buffer();
        $m->abort(404);
        return;
    }
</%init>
%# ----------------------------------------------------------------------------
% if ( 0 ) {
<pre>
<% Data::Dumper->Dump([$page], ['page']) | h %>
</pre>
% }
<div "z_content">
<& /zaapt/common/render.mhtml, t_name => $page->{t_name}, content => $page->{p_content} &>
</div>
%# ----------------------------------------------------------------------------
