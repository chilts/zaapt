%# ----------------------------------------------------------------------------
<%args>
    $zaapt
    $my_perms
</%args>
%# ----------------------------------------------------------------------------
<%init>
    my $model = $zaapt->get_model('Gallery');
    my $fields = $model->sel_field_all();
</%init>
%# ----------------------------------------------------------------------------
<h1>Field List</h1>

<p><a href="edit-g-list.html">&laquo; Back to Gallery List</a></p>

<h2>User Defined Fields</h2>

<&| /zaapt/common/admin/table-edit.mhtml, title => 'Field' &>

<p>
    * <a href="edit-f-add.html">Add Field &raquo;</a><br />
</p>

% my $r = 1;
% foreach my $field ( @$fields ) {
%     next if $field->{f_isexif};
        <tr class="r<% $r++%2 %>">
            <td>
                <strong><% $field->{f_info} | h %></strong><br />
                <% $field->{f_description} | h %><br />
            </td>
            <td>
                * <a href="edit-f-del.html?f_id=<% $field->{f_id} | u %>">Delete</a><br />
            </td>
        </tr>
% }
% unless ( @$fields ) {
        <tr class="r0">
            <td>no fields yet defined</td>
            <td>
                * <a href="edit-f-add.html">Add Field &raquo;</a>
            </td>
        </tr>
% }
</&>

<h2>EXIF Fields</h2>

<&| /zaapt/common/admin/table-edit.mhtml, title => 'Field' &>

% my $r = 1;
% foreach my $field ( @$fields ) {
%     next unless $field->{f_isexif};
        <tr class="r<% $r++%2 %>">
            <td>
                <strong><% $field->{f_info} | h %></strong><br />
                <% $field->{f_description} | h %><br />
            </td>
            <td>
                * <a href="edit-f-del.html?f_id=<% $field->{f_id} | u %>">Delete</a><br />
            </td>
        </tr>
% }
% unless ( @$fields ) {
        <tr class="r0">
            <td>no fields yet defined</td>
            <td>
                * <a href="edit-f-add.html">Add Field &raquo;</a>
            </td>
        </tr>
% }
</&>

% if ( 0 ) {
<pre>
<% Dumper($fields) | h %>
</pre>
% }
%# ----------------------------------------------------------------------------
