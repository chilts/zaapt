%# --- DOC --------------------------------------------------------------------
<%doc>

    Input Args

    $page - a row from the database, such as that returned by
        Slym::Model::Content::page_sel_name() or one from the list returned by
        Slym::Model::Content::page_sel_all() or
        Slym::Model::Content::page_sel_section()

    This view is called when Slym does not know what the render type is. For
    example, out of the box, Slym knows about 'text', 'html' and 'code', but
    anything else calls this. This is where you can check the type, create the
    HTML required and show it.

    The reason for having this separate is so that you can keep the known three
    types the same and just choose override this view in your own
    /view/content/page.mhtml instead of having to override the logic in
    /view/controller/page.mhtml.

</%doc>
%# --- ARGS -------------------------------------------------------------------
<%args>
    $page
</%args>
%# --- INIT -------------------------------------------------------------------
<%init>
    if ( $page->{p_type} eq 'phliky' ) {
        $page->{html} = Text::Phliky->text2html( $page->{p_content} );
    }
</%init>
%# --- HTML -------------------------------------------------------------------
<% $page->{html} %>
%# --- END --------------------------------------------------------------------
